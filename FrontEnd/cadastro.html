<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Defini√ß√µes b√°sicas do documento -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crie sua Conta - LIA</title>

    <!-- Importa o arquivo CSS principal -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!-- Cabe√ßalho -->
    <header class="header">
        <!-- Logo do sistema -->
        <img src="images/lia.png" alt="Logo LIA" class="logo">
        
        <!-- Bot√£o para retornar √† p√°gina inicial -->
        <nav class="nav">
            <button class="nav-button" style="font-size: 1.5em;" onclick="window.location.href='index.html'">Home</button>
        </nav>
    </header>

    <!-- √Årea de Cadastro -->
    <main class="main-content">
        <!-- T√≠tulo da p√°gina -->
        <h1>üÜï Crie sua Conta no LIA</h1>

        <!-- Formul√°rio de cadastro -->
        <form class="login-form" onsubmit="return validarFormulario()">
            <!-- Campo para o nome completo -->
            <input type="text" placeholder="Digite seu nome completo" required class="input-field" id="nome">

            <!-- Campo para o e-mail -->
            <input type="email" placeholder="Digite seu e-mail" required class="input-field" id="email">

            <!-- Campo para a senha -->
            <input type="password" placeholder="Digite sua senha" required class="input-field" id="senha">

            <!-- Campo para confirmar a senha -->
            <input type="password" placeholder="Confirme sua senha" required class="input-field" id="confirmarSenha">

            <!-- Bot√£o para criar a conta -->
            <button type="submit" class="cta-button" onclick="window.location.href='index.html'">Criar Conta</button>

        </form>
    </main>

    <!-- Rodap√© -->
    <footer class="footer">
        <p>&copy; 2025 LIA - Assistente Financeiro. Todos os direitos reservados.</p>
    </footer>

    <!-- Script de valida√ß√£o simples -->
    <script>
        async function validarFormulario() {
            const nome = document.getElementById('nome').value;
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;
            const confirmarSenha = document.getElementById('confirmarSenha').value;
    
            if (!nome || !email || !senha || !confirmarSenha) {
                alert('‚ö†Ô∏è Preencha todos os campos!');
                return false;
            }
    
            if (senha !== confirmarSenha) {
                alert('‚ö†Ô∏è As senhas n√£o coincidem!');
                return false;
            }
    
            try {
                const response = await fetch("http://127.0.0.1:5000/cadastro", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ nome, email, senha })
                });
    
                const resultado = await response.json();
    
                if (resultado.mensagem) {
                    alert("‚úÖ Conta criada com sucesso!");
                    window.location.href = "login.html";
                } else {
                    alert("‚ùå " + resultado.erro);
                }
            } catch (error) {
                console.error(error);
                alert("‚ùå Erro ao cadastrar. Tente novamente.");
            }
    
            return false;
        }
    </script>

</body>
</html>
