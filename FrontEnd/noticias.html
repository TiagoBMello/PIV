<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- ConfiguraÃ§Ãµes bÃ¡sicas -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIA - NotÃ­cias Financeiras</title>

    <!-- EstilizaÃ§Ã£o da pÃ¡gina -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!-- CabeÃ§alho -->
    <header class="header">
        <!-- Logo principal -->
        <img src="images/lia.png" alt="Logo LIA" class="logo">

        <!-- BotÃ£o para voltar ao Dashboard -->
        <nav class="nav">
            <button class="nav-button" onclick="window.location.href='dashboard.html'">ğŸ”™ Voltar ao Dashboard</button>
        </nav>
    </header>

    <!-- ConteÃºdo principal -->
    <main class="main-content">
        <!-- TÃ­tulo principal -->
        <h1>ğŸ“° NotÃ­cias Financeiras</h1>
        <p>Mantenha-se atualizado com as Ãºltimas novidades do mundo financeiro, organizadas por categorias.</p>

        <!-- SeÃ§Ã£o de Categorias -->
        <section class="finance-section">
            <h2>ğŸ“‘ Categorias</h2>
            <div class="news-categories">
                <button class="cta-button" onclick="buscarNoticias('business')">ğŸ“ˆ Economia / NegÃ³cios</button>
                <button class="cta-button" onclick="buscarNoticias('technology')">ğŸª™ Criptoativos / Tecnologia</button>
                <button class="cta-button" onclick="buscarNoticias('world')">ğŸŒ Mundo</button>
                <button class="cta-button" onclick="buscarNoticias('nation')">ğŸ¦ Renda Fixa</button>
                <button class="cta-button" onclick="buscarNoticias('general')">ğŸ“° Gerais</button>
            </div>
        </section>

        <!-- SeÃ§Ã£o de NotÃ­cias -->
        <section class="finance-section">
            <h2>ğŸ—ï¸ Ãšltimas NotÃ­cias</h2>
            <div id="news-container" class="news-container">
                <p>ğŸ” Selecione uma categoria acima para carregar as notÃ­cias aqui!</p>
            </div>
        </section>

        <!-- SeÃ§Ã£o de Insights da IA -->
        <section class="finance-section">
            <h2>ğŸ¤– Insights da IA</h2>
            <p>ğŸ§  Em breve, o LIA fornecerÃ¡ anÃ¡lises personalizadas com base nas notÃ­cias e no seu perfil de investimento.</p>
        </section>
    </main>

    <!-- BotÃ£o flutuante para falar com a IA -->
    <button class="floating-button" onclick="window.location.href='chat.html'">ğŸ’¬ Fale com o LIA</button>

    <!-- RodapÃ© -->
    <footer class="footer">
        <p>&copy; 2025 LIA - Assistente Financeiro. Todos os direitos reservados.</p>
    </footer>

    <!-- Script para buscar notÃ­cias reais -->
    <script>
        const API_KEY = '8bf93bb8d063484b8a90e16df8a6c403'; // sua chave da NewsAPI
    
        async function mostrarNoticias(categoria) {
            const container = document.getElementById('news-container');
    
            // Mostra o spinner de carregamento
            container.innerHTML = `
                <div style="text-align: center; margin: 20px;">
                    <div class="spinner"></div>
                    <p>Carregando notÃ­cias...</p>
                </div>
            `;
    
            let query = '';
            if (categoria === 'acoes') query = 'aÃ§Ãµes';
            if (categoria === 'rendaFixa') query = 'renda fixa';
            if (categoria === 'criptoativos') query = 'criptomoedas';
            if (categoria === 'fundos') query = 'fundos de investimento';
            if (categoria === 'economiaGlobal') query = 'economia global';
    
            try {
                const resposta = await fetch(`https://newsapi.org/v2/everything?q=${encodeURIComponent(query)}&language=pt&pageSize=6&sortBy=publishedAt&apiKey=${API_KEY}`);
                const dados = await resposta.json();
    
                if (dados.articles && dados.articles.length > 0) {
                    container.innerHTML = dados.articles.map(noticia => `
                        <div class="news-item">
                            <h3>${noticia.title}</h3>
                            <p>${noticia.description || 'Sem descriÃ§Ã£o disponÃ­vel.'}</p>
                            <a href="${noticia.url}" target="_blank">ğŸ”— Ler mais</a>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = `
                        <p>âš ï¸ Nenhuma notÃ­cia encontrada para esta categoria.</p>
                    `;
                }
            } catch (error) {
                console.error(error);
                container.innerHTML = `
                    <p>âŒ Erro ao buscar notÃ­cias. Tente novamente.</p>
                `;
            }
        }
    </script>
    

</body>
</html>
